<div class="container-fluid">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2>Inventaire Produits</h2>
    <a routerLink="/inventory/new" class="btn btn-primary">
      <i class="icon-plus"></i> Nouveau Produit
    </a>
  </div>

  <div class="card shadow-sm">
    <div class="card-body p-0">
      <table class="table table-hover mb-0">
        <thead class="bg-light">
          <tr>
            <th>Réf</th>
            <th>Nom</th>
            <th>Catégorie</th>
            <th class="text-end">Prix Vente</th>
            <th class="text-center">Stock</th>
            <th class="text-end">Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let p of products">
            <td><strong>{{ p.reference }}</strong></td>
            <td>
              {{ p.nom }}<br>
              <small class="text-muted">{{ p.marque }}</small>
            </td>
            <td>{{ p.categorie?.nom || '-' }}</td>
            <td class="text-end">{{ p.prixVente | currency:'EUR' }}</td>
            
            <td class="text-center">
              <span class="badge" 
                [ngClass]="p.quantiteStock > p.niveauStockMin ? 'bg-success' : 'bg-danger'">
                {{ p.quantiteStock }} {{ p.uniteMesure }}
              </span>
            </td>
            
            <td class="text-end">
              <a [routerLink]="['/inventory/edit', p.id]" class="btn btn-sm btn-outline-secondary me-2">
                <i class="icon-edit"></i>
              </a>
              <button (click)="deleteProduct(p.id)" class="btn btn-sm btn-outline-danger">
                <i class="icon-trash"></i>
              </button>
            </td>
          </tr>
          
          <tr *ngIf="!loading && products.length === 0">
            <td colspan="6" class="text-center py-4">Aucun produit trouvé.</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>